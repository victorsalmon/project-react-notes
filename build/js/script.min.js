"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Note=React.createClass({displayName:"Note",getInitialState:function(){return{editing:!1}},componentWillMount:function(){this.style={right:this.randomBetween(0,window.innerWidth-150,"px"),top:this.randomBetween(0,window.innerHeight-150,"px")}},edit:function(){this.setState({editing:!0})},randomBetween:function(e,t,n){return e+Math.ceil(Math.random()*(t-e))+n},remove:function(){this.props.onRemove(this.props.id)},renderForm:function(e){return React.createElement("div",{className:"note",style:this.style},React.createElement("textarea",{ref:"newText"},this.props.children),React.createElement("button",{className:"buttonBox",onClick:this.save},"Save"))},renderDisplay:function(){return React.createElement("div",{className:"note",style:this.style},React.createElement("p",null,this.props.children),React.createElement("div",{className:"buttonBox"},React.createElement("button",{onClick:this.edit},"Edit"),React.createElement("button",{onClick:this.remove},"Remove")))},render:function(){return this.state.editing?this.renderForm():this.renderDisplay()},save:function(){this.props.onChange(this.refs.newText.value,this.props.id),this.setState({editing:!1})}}),Box=React.createClass({displayName:"Box"}),Board=React.createClass({displayName:"Board",propTypes:{count:function(e,t){return"number"!=typeof e[t]?new Error("The count must be a number!"):e[t]>100?new Error("Creating "+e[t]+" notes is too many!"):void 0}},add:function(e){console.log(this.state.notes.length);var t=[].concat(_toConsumableArray(this.state.notes),[{id:this.nextId(),note:e}]);this.setState({notes:t})},getInitialState:function(){return{notes:[{id:0,note:"E-mail Susan about project"},{id:1,note:"Create new notes"},{id:2,note:"Delete sample notes"},{id:3,note:"Polish this app ;)"}]}},eachNote:function(e){return React.createElement(Note,{key:e.id,id:e.id,onChange:this.update,onRemove:this.remove},e.note)},nextId:function(){return this.state.notes.length},remove:function(e){var t=this.state.notes.filter(function(t){return t.id!==e});this.setState({notes:t})},render:function(){var e=this;return React.createElement("div",{className:"board"},this.state.notes.map(this.eachNote),React.createElement("div",{class:"buttonBox"},React.createElement("button",{onClick:function(){return e.add()}},"+")))},update:function(e,t){var n=this.state.notes.map(function(n){return n.id!==t?n:_extends({},n,{note:e})});this.setState({notes:n})}});ReactDOM.render(React.createElement(Board,null),document.getElementById("react-container"));